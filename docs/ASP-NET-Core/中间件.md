## [ASP.NET Core 中间件](https://learn.microsoft.com/zh-cn/aspnet/core/fundamentals/middleware/?view=aspnetcore-8.0)
ASP .NET Core 里命名很直白：

| 前缀 | 全称 | 所处阶段 | 作用对象 | 典型示例 |
|---|---|---|---|---|
| **Add** | `AddXxx` | **应用启动阶段**（`Program.cs` 上半段） | **DI 容器**（`IServiceCollection`） | `AddAuthentication`<br>`AddAuthorization`<br>`AddControllers` |
| **Use** | `UseXxx` | **请求管道阶段**（`Program.cs` 下半段） | **HTTP 请求管道**（`IApplicationBuilder`） | `UseAuthentication`<br>`UseAuthorization`<br>`UseRouting` |

一句话记忆：  
**Add = 注册服务（告诉框架“我有这些工具”）**  
**Use = 加入管道（告诉框架“每个请求都按这个顺序走这些工具”）**

> 中间件本身是一个**服务**（用 `Add` 注册），但让它**参与请求处理**必须再 `Use` 出来。